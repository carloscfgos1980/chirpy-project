1. <.env>. Create a variable for polka key

2. <main.go>Add PolkaKey to the apiConfig struct

3. Get the Key:
 polkaKey := os.Getenv("POLKA_KEY")
 if polkaKey == "" {
  log.Fatal("POLKA_KEY must be set")
 }

4. Add to apiCfg variable: 
 apiCfg := apiConfig{
  fileserverHits: atomic.Int32{},
  db:             dbQueries,
  platform:       platform,
  jwtSecret:      jwtSecret,
  polkaKey:       polkaKey,
 }

5. <internal/auth/auth.go> Create a function to get the key. Here I could not get the ApiKey <Key> format from Postman so I need to make a variation to make it work:

func GetAPIKey(headers http.Header) (string, error) {
 apiKey := headers.Get("x-api-key")

 if apiKey == "" {
  return "", ErrNoAuthHeaderIncluded
 }
 // splitAuth := strings.Split(authHeader, " ")
 // if len(splitAuth) < 2 || splitAuth[0] != "x-api-key" {
 //  return "", errors.New("malformed authorization header")
 // }
 return apiKey, nil

 // return splitAuth[1], nil
}

6. Get the key from the request Header
 apiKey, err := auth.GetAPIKey(r.Header)
 if err != nil {
  respondWithError(w, http.StatusUnauthorized, "Unauthorized", err)
  return
 }

7. Compare the value of the key request with the the value of polka key stored in .env
 if apiKey != cfg.polkaKey {
  respondWithError(w, http.StatusUnauthorized, "Unauthorized", errors.New("invalid API key"))
  return
 }

 
